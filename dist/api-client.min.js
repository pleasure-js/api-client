/*!
 * @pleasure-js/api-client v1.0.0
 * (c) 2018-2020 Martin Rafael Gonzalez <tin@devtin.io>
 * Released under the MIT License.
 */
var ApiClient=function(e,t,n){'use strict';var ke=Math.floor,ve=String.prototype,Ee=String.fromCharCode;function r(e){return void 0===e?it:it=!!e}function o(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in Object(e)?wt(e):kt(e)}function s(e,t){if(st(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||At(e))||Ot.test(e)||!Lt.test(e)||null!=t&&e in Object(t)}function d(e){return!!Pt&&Pt in e}function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(p.Cache||un),n}function h(e){if("string"==typeof e)return e;if(st(e))return pn(e,h)+"";if(At(e))return gn?gn.call(e):"";var t=e+"";return"0"==t&&1/e==-hn?"-0":t}function f({apiURL:e,timeout:n=3e3}){const o=t.create({timeout:n,baseURL:e,paramsSerializer(e){return ot.stringify(e,{arrayFormat:"brackets"})},headers:{"X-Pleasure-Client":"1.0.0"}});return o.interceptors.request.use(e=>(r()&&console.log(`api-client request`,e),e)),o.interceptors.response.use(e=>{const{data:{code:n=500,data:t,error:r={message:"Unknown error",errors:[]}}}=e||{};if(200===n)return t;throw console.log(r.errors),new Ie(r.message,n,r.errors)}),o}function g(e){this.message=e}function y(e){return decodeURIComponent(kn(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return 2>n.length&&(n="0"+n),"%"+n}))}function m(e){this.message=e}function b({state:e,next:t,methodCallback:n}){const r=function(e={}){return"object"!=typeof e&&(this.paths.push({value:e}),e={}),_({state:{paths:this.paths,get:e},next:t,methodCallback:n})};return r.methodCallback=n,r.valueOf=r.toString=function(){return or(this,{query:this.get})},r.then=function(e){return e(t(r.valueOf()))},r.create=function(e){return t(or(this,{body:e,method:"post"}))},r.update=function(e){return t(or(this,{method:"patch",body:e,query:this.get}))},r.delete=function(){if(0<arguments.length)throw new Error(`Method delete does not take any arguments`);return t(or(this,{method:"delete",query:this.get}))},Object.assign(r,e),r}function _({state:e={},next:t=e=>e,methodCallback:n=e=>e}={}){return e=b({state:e,next:t,methodCallback:n}),e.paths||(e.paths=[]),new Proxy(e,ir)}function w(e){return!!e&&"object"==typeof e}function x(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||j(e)}function j(e){return e.$$typeof===dr}function k(e){return Array.isArray(e)?[]:{}}function v(e,t){return!1!==t.clone&&t.isMergeableObject(e)?B(k(e),e,t):e}function E(e,t,n){return e.concat(t).map(function(e){return v(e,n)})}function I(e,t){if(!t.customMerge)return B;var n=t.customMerge(e);return"function"==typeof n?n:B}function A(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function L(e){return Object.keys(e).concat(A(e))}function O(e,t){try{return t in e}catch(e){return!1}}function S(e,t){return O(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function C(e,t,n){var r={};return n.isMergeableObject(e)&&L(e).forEach(function(t){r[t]=v(e[t],n)}),L(t).forEach(function(o){S(e,o)||(O(e,o)&&n.isMergeableObject(t[o])?r[o]=I(o,n)(e[o],t[o],n):r[o]=v(t[o],n))}),r}function B(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||E,n.isMergeableObject=n.isMergeableObject||ar,n.cloneUnlessOtherwiseSpecified=v;var r=Array.isArray(t),o=Array.isArray(e);return r===o?r?n.arrayMerge(e,t,n):C(e,t,n):v(t,n)}function T(e){throw new RangeError(cr[e])}function U(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function P(e,t){var n=e.split("@"),r="";1<n.length&&(r=n[0]+"@",e=n[1]),e=e.replace(ur,".");var o=e.split("."),i=U(o,t).join(".");return r+i}function D(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),55296<=t&&56319>=t&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function N(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function z(e,t,n){var r=0;for(e=n?pr(e/700):e>>1,e+=pr(e/t);455<e;r+=36)e=pr(e/35);return pr(r+36*e/(e+38))}function q(e){var r,o,i,a,s,d,l,u,c,p,h,f,g,y,b,_=[];for(e=D(e),f=e.length,r=128,o=0,s=72,d=0;d<f;++d)h=e[d],128>h&&_.push(hr(h));for(i=a=_.length,a&&_.push("-");i<f;){for(l=2147483647,d=0;d<f;++d)h=e[d],h>=r&&h<l&&(l=h);for(g=i+1,l-r>pr((2147483647-o)/g)&&T("overflow"),o+=(l-r)*g,r=l,d=0;d<f;++d)if(h=e[d],h<r&&2147483647<++o&&T("overflow"),h==r){for(u=o,c=36;;c+=36){if(p=c<=s?1:c>=s+26?26:c-s,u<p)break;b=u-p,y=36-p,_.push(hr(N(p+b%y,0))),u=pr(b/y)}_.push(hr(N(u,0))),s=z(o,g,i==a),o=0,++i}++o,++r}return _.join("")}function F(e){return P(e,function(e){return lr.test(e)?"xn--"+q(e):e})}function M(e){return null===e}function R(e){return null==e}function Y(e){return"string"==typeof e}function H(e){return"object"==typeof e&&null!==e}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}}function W(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?$(gr(e),function(r){var o=encodeURIComponent(Q(r))+n;return fr(e[r])?$(e[r],function(e){return o+encodeURIComponent(Q(e))}).join(t):o+encodeURIComponent(Q(e[r]))}).join(t):r?encodeURIComponent(Q(r))+n+encodeURIComponent(Q(e)):""}function $(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}function K(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;0<a&&s>a&&(s=a);for(var d=0;d<s;++d){var l,u,c,p,h=e[d].replace(/\+/g,"%20"),f=h.indexOf(n);0<=f?(l=h.substr(0,f),u=h.substr(f+1)):(l=h,u=""),c=decodeURIComponent(l),p=decodeURIComponent(u),V(o,c)?fr(o[c])?o[c].push(p):o[c]=[o[c],p]:o[c]=p}return o}function J(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function G(e,t,n){if(e&&H(e)&&e instanceof J)return e;var r=new J;return r.parse(e,t,n),r}function Z(e,t,n,r){if(!Y(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",d=t.split(a);d[0]=d[0].replace(/\\/g,"/"),t=d.join(a);var u=t;if(u=u.trim(),!r&&1===t.split("#").length){var c=_r.exec(u);if(c)return e.path=u,e.href=u,e.pathname=c[1],c[2]?(e.search=c[2],e.query=n?K(e.search.substr(1)):e.search.substr(1)):n&&(e.search="",e.query={}),e}var f=mr.exec(u);if(f){f=f[0];var g=f.toLowerCase();e.protocol=g,u=u.substr(f.length)}if(r||f||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===u.substr(0,2);y&&!(f&&Ar[f])&&(u=u.substr(2),e.slashes=!0)}var m,b,_,w;if(!Ar[f]&&(y||f&&!Lr[f])){var x=-1;for(m=0;m<kr.length;m++)b=u.indexOf(kr[m]),-1!==b&&(-1===x||b<x)&&(x=b);var v,E;for(E=-1===x?u.lastIndexOf("@"):u.lastIndexOf("@",x),-1!==E&&(v=u.slice(0,E),u=u.slice(E+1),e.auth=decodeURIComponent(v)),x=-1,m=0;m<jr.length;m++)b=u.indexOf(jr[m]),-1!==b&&(-1===x||b<x)&&(x=b);-1===x&&(x=u.length),e.host=u.slice(0,x),u=u.slice(x),ee(e),e.hostname=e.hostname||"";var I="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!I){var A=e.hostname.split(/\./);for(m=0,_=A.length;m<_;m++){var L=A[m];if(L&&!L.match(vr)){for(var O="",S=0,C=L.length;S<C;S++)O+=127<L.charCodeAt(S)?"x":L[S];if(!O.match(vr)){var k=A.slice(0,m),B=A.slice(m+1),T=L.match(Er);T&&(k.push(T[1]),B.unshift(T[2])),B.length&&(u="/"+B.join(".")+u),e.hostname=k.join(".");break}}}}e.hostname=255<e.hostname.length?"":e.hostname.toLowerCase(),I||(e.hostname=F(e.hostname)),w=e.port?":"+e.port:"";var U=e.hostname||"";e.host=U+w,e.href+=e.host,I&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!Ir[g])for(m=0,_=xr.length;m<_;m++){var h=xr[m];if(-1!==u.indexOf(h)){var P=encodeURIComponent(h);P===h&&(P=escape(h)),u=u.split(h).join(P)}}var D=u.indexOf("#");-1!==D&&(e.hash=u.substr(D),u=u.slice(0,D));var N=u.indexOf("?");if(-1===N?n&&(e.search="",e.query={}):(e.search=u.substr(N),e.query=u.substr(N+1),n&&(e.query=K(e.query)),u=u.slice(0,N)),u&&(e.pathname=u),Lr[g]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){w=e.pathname||"";var z=e.search||"";e.path=w+z}return e.href=X(e),e}function X(e){var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var n=e.protocol||"",r=e.pathname||"",o=e.hash||"",i=!1,a="";e.host?i=t+e.host:e.hostname&&(i=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(i+=":"+e.port)),e.query&&H(e.query)&&Object.keys(e.query).length&&(a=W(e.query));var s=e.search||a&&"?"+a||"";return n&&":"!==n.substr(-1)&&(n+=":"),e.slashes||(!n||Lr[n])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):!i&&(i=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),n+i+r+s+o}function ee(e){var t=e.host,n=br.exec(t);n&&(n=n[0],":"!==n&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t)}function te(){}function ne(){ne.init.call(this)}function re(e){return void 0===e._maxListeners?ne.defaultMaxListeners:e._maxListeners}function oe(e,t,n){if(t)e.call(n);else for(var r=e.length,o=fe(e,r),a=0;a<r;++a)o[a].call(n)}function ie(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,a=fe(e,o),s=0;s<o;++s)a[s].call(n,r)}function ae(e,t,n,r,o){if(t)e.call(n,r,o);else for(var a=e.length,s=fe(e,a),d=0;d<a;++d)s[d].call(n,r,o)}function se(e,t,n,r,o,a){if(t)e.call(n,r,o,a);else for(var s=e.length,d=fe(e,s),l=0;l<s;++l)d[l].call(n,r,o,a)}function de(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,a=fe(e,o),s=0;s<o;++s)a[s].apply(n,r)}function le(e,t,n,r){var o,i,a;if("function"!=typeof n)throw new TypeError("\"listener\" argument must be a function");if(i=e._events,i?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]):(i=e._events=new te,e._eventsCount=0),!a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(o=re(e),o&&0<o&&a.length>o)){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,ue(s)}return e}function ue(t){"function"==typeof console.warn?console.warn(t):console.log(t)}function ce(e,t,n){function r(){e.removeListener(t,r),o||(o=!0,n.apply(e,arguments))}var o=!1;return r.listener=n,r}function pe(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function he(e,t){for(var r=t,o=r+1,a=e.length;o<a;r+=1,o+=1)e[r]=e[o];e.pop()}function fe(e,t){for(var n=Array(t);t--;)n[t]=e[t];return n}function ge(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function ye(e){var t=this.__data__=new on(e);this.size=t.size}function me(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function be(e,t,n,r,o,i){var a=1&n,s=So(e),d=s.length,l=So(t),u=l.length;if(d!=u&&!a)return!1;for(var c,p=d;p--;)if(c=s[p],a?!(c in t):!Bo.call(t,c))return!1;var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);for(var g=a;++p<d;){c=s[p];var y=e[c],m=t[c];if(r)var b=a?r(m,y,c,t,e,i):r(y,m,c,e,t,i);if(void 0===b?!(y===m||o(y,m,n,r,i)):!b){f=!1;break}g||(g="constructor"==c)}if(f&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(f=!1)}return i["delete"](e),i["delete"](t),f}function _e(e,t,n,r,o){return e===t||(null!=e&&null!=t&&(It(e)||It(t))?ti(e,t,n,r,_e,o):e!==e&&t!==t)}function we(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=n[o];var d=s[0],l=e[d],u=s[1];if(!(a&&s[2])){var c=new po;if(r)var p=r(l,u,d,e,t,c);if(void 0===p?!ni(u,l,3,r,c):!p)return!1}else if(void 0===l&&!(d in e))return!1}return!0}function xe(e,t){return null!=e&&t in Object(e)}function je(e){return gi(e,e=>Array.isArray(e)?e:e instanceof RegExp?{$regex:e.source,$options:e.flags}:"object"==typeof e?je(e):JSON.stringify(e))}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n["default"]:n;class Ie extends Error{constructor(e,t=500,n){super(e),this.code=t,this.data=n}}var Ae=Object.prototype.hasOwnProperty,Le=Array.isArray,Oe=function(){for(var e=[],t=0;256>t;++t)e.push("%"+((16>t?"0":"")+t.toString(16)).toUpperCase());return e}(),Se=function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(Le(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!=typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}},Ce=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},Be={arrayToObject:Ce,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),d=0;d<s.length;++d){var l=s[d],u=a[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:l}),n.push(u))}return Se(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=e+""),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o,a="",s=0;s<r.length;++s){if(o=r.charCodeAt(s),45===o||46===o||95===o||126===o||48<=o&&57>=o||65<=o&&90>=o||97<=o&&122>=o){a+=r.charAt(s);continue}if(128>o){a+=Oe[o];continue}if(2048>o){a+=Oe[192|o>>6]+Oe[128|63&o];continue}if(55296>o||57344<=o){a+=Oe[224|o>>12]+Oe[128|63&o>>6]+Oe[128|63&o];continue}s+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(s)),a+=Oe[240|o>>18]+Oe[128|63&o>>12]+Oe[128|63&o>>6]+Oe[128|63&o]}return a},isBuffer:function(e){return!!(e&&"object"==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Le(t))t.push(n);else if(t&&"object"==typeof t)(r&&(r.plainObjects||r.allowPrototypes)||!Ae.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return Le(t)&&!Le(n)&&(o=Ce(t,r)),Le(t)&&Le(n)?(n.forEach(function(n,o){if(Ae.call(t,o)){var i=t[o];i&&"object"==typeof i&&n&&"object"==typeof n?t[o]=e(i,n,r):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var i=n[o];return t[o]=Ae.call(t,o)?e(t[o],i,r):i,t},o)}},Te=ve.replace,Ue={RFC1738:"RFC1738",RFC3986:"RFC3986"},Pe=Be.assign({default:Ue.RFC3986,formatters:{RFC1738:function(e){return Te.call(e,/%20/g,"+")},RFC3986:function(e){return e+""}}},Ue),De=Object.prototype.hasOwnProperty,Ne={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ze=Array.isArray,qe=Array.prototype.push,Fe=function(e,t){qe.apply(e,ze(t)?t:[t])},Me=Date.prototype.toISOString,Re=Pe["default"],Ye={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Be.encode,encodeValuesOnly:!1,format:Re,formatter:Pe.formatters[Re],indices:!1,serializeDate:function(e){return Me.call(e)},skipNulls:!1,strictNullHandling:!1},He=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},Ve=function e(t,n,r,o,a,s,d,l,u,c,p,h,f){var g=t;if("function"==typeof d?g=d(n,g):g instanceof Date?g=c(g):"comma"===r&&ze(g)&&(g=g.join(",")),null===g){if(o)return s&&!h?s(n,Ye.encoder,f,"key"):n;g=""}if(He(g)||Be.isBuffer(g)){if(s){var y=h?n:s(n,Ye.encoder,f,"key");return[p(y)+"="+p(s(g,Ye.encoder,f,"value"))]}return[p(n)+"="+p(g+"")]}var m=[];if("undefined"==typeof g)return m;var b;if(ze(d))b=d;else{var _=Object.keys(g);b=l?_.sort(l):_}for(var w,x=0;x<b.length;++x)(w=b[x],!(a&&null===g[w]))&&(ze(g)?Fe(m,e(g[w],"function"==typeof r?r(n,w):n,r,o,a,s,d,l,u,c,p,h,f)):Fe(m,e(g[w],n+(u?"."+w:"["+w+"]"),r,o,a,s,d,l,u,c,p,h,f)));return m},Qe=function(e){if(!e)return Ye;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Ye.charset;if("undefined"!=typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Pe["default"];if("undefined"!=typeof e.format){if(!De.call(Pe.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Pe.formatters[n],o=Ye.filter;return("function"==typeof e.filter||ze(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Ye.addQueryPrefix,allowDots:"undefined"==typeof e.allowDots?Ye.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ye.charsetSentinel,delimiter:"undefined"==typeof e.delimiter?Ye.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Ye.encode,encoder:"function"==typeof e.encoder?e.encoder:Ye.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Ye.encodeValuesOnly,filter:o,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Ye.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Ye.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ye.strictNullHandling}},We=function(e,t){var n,r,o=e,a=Qe(t);"function"==typeof a.filter?(r=a.filter,o=r("",o)):ze(a.filter)&&(r=a.filter,n=r);var s=[];if("object"!=typeof o||null===o)return"";var d=t&&t.arrayFormat in Ne?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var l=Ne[d];n||(n=Object.keys(o)),a.sort&&n.sort(a.sort);for(var u,c=0;c<n.length;++c)(u=n[c],!(a.skipNulls&&null===o[u]))&&Fe(s,Ve(o[u],u,l,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.formatter,a.encodeValuesOnly,a.charset));var p=s.join(a.delimiter),h=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),0<p.length?h+p:""},$e=Object.prototype.hasOwnProperty,Ke=Array.isArray,Je={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Be.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ge=function(e){return e.replace(/&#(\d+);/g,function(e,t){return Ee(parseInt(t,10))})},Ze=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},Xe=function(e,t){if(Ke(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},et=function(e,t){var n,r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=o.split(t.delimiter,a),d=-1,l=t.charset;if(t.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&(s[n]==="utf8=%E2%9C%93"?l="utf-8":s[n]==="utf8=%26%2310003%3B"&&(l="iso-8859-1"),d=n,n=s.length);for(n=0;n<s.length;++n)if(n!==d){var u,c,p=s[n],h=p.indexOf("]="),f=-1===h?p.indexOf("="):h+1;-1===f?(u=t.decoder(p,Je.decoder,l,"key"),c=t.strictNullHandling?null:""):(u=t.decoder(p.slice(0,f),Je.decoder,l,"key"),c=Xe(Ze(p.slice(f+1),t),function(e){return t.decoder(e,Je.decoder,l,"value")})),c&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=Ge(c)),-1<p.indexOf("[]=")&&(c=Ke(c)?[c]:c),r[u]=$e.call(r,u)?Be.combine(r[u],c):c}return r},tt=function(e,t,n,r){for(var o=r?t:Ze(t,n),a=e.length-1;0<=a;--a){var s,d=e[a];if("[]"===d&&n.parseArrays)s=[].concat(o);else{s=n.plainObjects?Object.create(null):{};var l="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,u=parseInt(l,10);n.parseArrays||""!==l?!isNaN(u)&&d!==l&&u+""===l&&0<=u&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=o):s[l]=o:s={0:o}}o=s}return o},nt=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=0<n.depth&&/(\[[^[\]]*])/.exec(o),s=a?o.slice(0,a.index):o,d=[];if(s){if(!n.plainObjects&&$e.call(Object.prototype,s)&&!n.allowPrototypes)return;d.push(s)}for(var l=0;0<n.depth&&null!==(a=/(\[[^[\]]*])/g.exec(o))&&l<n.depth;){if(l+=1,!n.plainObjects&&$e.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(a[1])}return a&&d.push("["+o.slice(a.index)+"]"),tt(d,t,n,r)}},rt=function(e){if(!e)return Je;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!=typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"==typeof e.charset?Je.charset:e.charset;return{allowDots:"undefined"==typeof e.allowDots?Je.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Je.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Je.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Je.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Je.comma,decoder:"function"==typeof e.decoder?e.decoder:Je.decoder,delimiter:"string"==typeof e.delimiter||Be.isRegExp(e.delimiter)?e.delimiter:Je.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Je.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Je.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Je.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Je.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Je.strictNullHandling}},ot={formats:Pe,parse:function(e,t){var n=rt(t);if(""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?et(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var d=a[s],l=nt(d,r[d],n,"string"==typeof e);o=Be.merge(o,l,n)}return Be.compact(o)},stringify:We};let it=!1;var at=Array.isArray,st=at,dt="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,lt="object"==typeof dt&&dt&&dt.Object===Object&&dt,ut=lt,ct="object"==typeof self&&self&&self.Object===Object&&self,pt=ut||ct||Function("return this")(),ht=pt,ft=ht.Symbol,gt=ft,yt=Object.prototype,mt=yt.hasOwnProperty,bt=yt.toString,_t=gt?gt.toStringTag:void 0,wt=function(e){var t=mt.call(e,_t),n=e[_t];try{e[_t]=void 0;var r=!0}catch(t){}var o=bt.call(e);return r&&(t?e[_t]=n:delete e[_t]),o},xt=Object.prototype,jt=xt.toString,kt=function(e){return jt.call(e)},vt=gt?gt.toStringTag:void 0,Et=a,It=function(e){return null!=e&&"object"==typeof e},At=function(e){return"symbol"==typeof e||It(e)&&"[object Symbol]"==Et(e)},Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,St=s,Ct=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Bt=function(e){if(!Ct(e))return!1;var t=Et(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Tt=ht["__core-js_shared__"],Ut=Tt,Pt=function(){var e=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dt=Function.prototype,Nt=Dt.toString,zt=function(e){if(null!=e){try{return Nt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},qt=Function.prototype,Ft=Object.prototype,Mt=qt.toString,Rt=Ft.hasOwnProperty,Yt=RegExp("^"+Mt.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=function(e){if(!Ct(e)||d(e))return!1;var t=Bt(e)?Yt:/^\[object .+?Constructor\]$/;return t.test(zt(e))},Vt=function(e,t){return null==e?void 0:e[t]},Qt=function(e,t){var n=Vt(e,t);return Ht(n)?n:void 0},Wt=Qt(Object,"create"),$t=Wt,Kt=Object.prototype,Jt=Kt.hasOwnProperty,Gt=Object.prototype,Zt=Gt.hasOwnProperty;l.prototype.clear=function(){this.__data__=$t?$t(null):{},this.size=0},l.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},l.prototype.get=function(e){var t=this.__data__;if($t){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Jt.call(t,e)?t[e]:void 0},l.prototype.has=function(e){var t=this.__data__;return $t?void 0!==t[e]:Zt.call(t,e)},l.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$t&&void 0===t?"__lodash_hash_undefined__":t,this};var Xt=l,en=function(e,t){return e===t||e!==e&&t!==t},tn=function(e,t){for(var n=e.length;n--;)if(en(e[n][0],t))return n;return-1},nn=Array.prototype,rn=nn.splice;u.prototype.clear=function(){this.__data__=[],this.size=0},u.prototype["delete"]=function(e){var t=this.__data__,n=tn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():rn.call(t,n,1),--this.size,!0},u.prototype.get=function(e){var t=this.__data__,n=tn(t,e);return 0>n?void 0:t[n][1]},u.prototype.has=function(e){return-1<tn(this.__data__,e)},u.prototype.set=function(e,t){var n=this.__data__,r=tn(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var on=u,an=Qt(ht,"Map"),sn=an,dn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ln=function(e,t){var n=e.__data__;return dn(t)?n["string"==typeof t?"string":"hash"]:n.map};c.prototype.clear=function(){this.size=0,this.__data__={hash:new Xt,map:new(sn||on),string:new Xt}},c.prototype["delete"]=function(e){var t=ln(this,e)["delete"](e);return this.size-=t?1:0,t},c.prototype.get=function(e){return ln(this,e).get(e)},c.prototype.has=function(e){return ln(this,e).has(e)},c.prototype.set=function(e,t){var n=ln(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var un=c;p.Cache=un;var cn=function(e){var t=p(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,r,o){t.push(r?o.replace(/\\(\\)?/g,"$1"):n||e)}),t}),pn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},hn=1/0,fn=gt?gt.prototype:void 0,gn=fn?fn.toString:void 0,yn=function(e){return null==e?"":h(e)},mn=function(e,t){return st(e)?e:St(e,t)?[e]:cn(yn(e))},bn=function(e){if("string"==typeof e||At(e))return e;var t=e+"";return"0"==t&&1/e==-(1/0)?"-0":t},_n=function(e,t){t=mn(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[bn(t[n++])];return n&&n==r?e:void 0},wn=function(e,t,n){var r=null==e?void 0:_n(e,t);return void 0===r?n:r},xn=function(){if(!arguments.length)return[];var e=arguments[0];return st(e)?e:[e]},jn=i(function(t){!function(n){t.exports=n()}(function(){return function d(l,i,u){function r(s,n){if(!i[s]){if(!l[s]){var e="function"==typeof o&&o;if(!n&&e)return e(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var t=i[s]={exports:{}};l[s][0].call(t.exports,function(n){var e=l[s][1][n];return r(e||n)},t,t.exports,d,l,i,u)}return i[s].exports}for(var a="function"==typeof o&&o,t=0;t<u.length;t++)r(u[t]);return r}({1:[function(n,r,o){(function(i,e,m){function t(n,e){return function(o,e){var t;if(t="passthrough"===e.algorithm?new h:u.createHash(e.algorithm),void 0===t.write&&(t.write=t.update,t.end=t.update),p(e,t).dispatch(o),t.update||t.end(""),t.digest)return t.digest("buffer"===e.encoding?void 0:e.encoding);var i=t.read();return"buffer"===e.encoding?i:i.toString(e.encoding)}(n,e=a(n,e))}function a(o,e){e=e||{};var i={};if(i.algorithm=e.algorithm||"sha1",i.encoding=e.encoding||"hex",i.excludeValues=!!e.excludeValues,i.algorithm=i.algorithm.toLowerCase(),i.encoding=i.encoding.toLowerCase(),i.ignoreUnknown=!0===e.ignoreUnknown,i.respectType=!1!==e.respectType,i.respectFunctionNames=!1!==e.respectFunctionNames,i.respectFunctionProperties=!1!==e.respectFunctionProperties,i.unorderedArrays=!0===e.unorderedArrays,i.unorderedSets=!1!==e.unorderedSets,i.unorderedObjects=!1!==e.unorderedObjects,i.replacer=e.replacer||void 0,i.excludeKeys=e.excludeKeys||void 0,void 0===o)throw new Error("Object argument required.");for(var n=0;n<s.length;++n)s[n].toLowerCase()===i.algorithm.toLowerCase()&&(i.algorithm=s[n]);if(-1===s.indexOf(i.algorithm))throw new Error("Algorithm \""+i.algorithm+"\"  not supported. supported values: "+s.join(", "));if(-1===l.indexOf(i.encoding)&&"passthrough"!==i.algorithm)throw new Error("Encoding \""+i.encoding+"\"  not supported. supported values: "+l.join(", "));return i}function c(t){if("function"==typeof t)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function p(d,n,l){function u(t){return n.update?n.update(t,"utf8"):n.write(t,"utf8")}return l=l||[],{dispatch:function(n){d.replacer&&(n=d.replacer(n));var r=typeof n;return null===n&&(r="null"),this["_"+r](n)},_object:function(a){var t=Object.prototype.toString.call(a),e=/\[object (.*)\]/i.exec(t);e=(e=e?e[1]:"unknown:["+t+"]").toLowerCase();var s;if(0<=(s=l.indexOf(a)))return this.dispatch("[CIRCULAR:"+s+"]");if(l.push(a),void 0!==m&&m.isBuffer&&m.isBuffer(a))return u("buffer:"),u(a);if("object"===e||"function"===e||"asyncfunction"===e){var p=Object.keys(a);d.unorderedObjects&&(p=p.sort()),!1===d.respectType||c(a)||p.splice(0,0,"prototype","__proto__","constructor"),d.excludeKeys&&(p=p.filter(function(t){return!d.excludeKeys(t)})),u("object:"+p.length+":");var h=this;return p.forEach(function(t){h.dispatch(t),u(":"),d.excludeValues||h.dispatch(a[t]),u(",")})}if(!this["_"+e]){if(d.ignoreUnknown)return u("["+e+"]");throw new Error("Unknown object type \""+e+"\"")}this["_"+e](a)},_array:function(i,e){e=void 0===e?!1!==d.unorderedArrays:e;var a=this;if(u("array:"+i.length+":"),!e||1>=i.length)return i.forEach(function(t){return a.dispatch(t)});var s=[],n=i.map(function(r){var e=new h,t=l.slice();return p(d,e,t).dispatch(r),s=s.concat(t.slice(l.length)),e.read().toString()});return l=l.concat(s),n.sort(),this._array(n,!1)},_date:function(t){return u("date:"+t.toJSON())},_symbol:function(t){return u("symbol:"+t.toString())},_error:function(t){return u("error:"+t.toString())},_boolean:function(t){return u("bool:"+t.toString())},_string:function(t){u("string:"+t.length+":"),u(t.toString())},_function:function(t){u("fn:"),c(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==d.respectFunctionNames&&this.dispatch("function-name:"+(t.name+"")),d.respectFunctionProperties&&this._object(t)},_number:function(t){return u("number:"+t.toString())},_xml:function(t){return u("xml:"+t.toString())},_null:function(){return u("Null")},_undefined:function(){return u("Undefined")},_regexp:function(t){return u("regex:"+t.toString())},_uint8array:function(t){return u("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return u("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return u("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return u("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return u("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return u("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return u("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return u("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return u("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return u("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return u("url:"+t.toString())},_map:function(n){u("map:");var e=Array.from(n);return this._array(e,!1!==d.unorderedSets)},_set:function(n){u("set:");var e=Array.from(n);return this._array(e,!1!==d.unorderedSets)},_blob:function(){if(d.ignoreUnknown)return u("[blob]");throw Error("Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse \"options.replacer\" or \"options.ignoreUnknown\"\n")},_domwindow:function(){return u("domwindow")},_process:function(){return u("process")},_timer:function(){return u("timer")},_pipe:function(){return u("pipe")},_tcp:function(){return u("tcp")},_udp:function(){return u("udp")},_tty:function(){return u("tty")},_statwatcher:function(){return u("statwatcher")},_securecontext:function(){return u("securecontext")},_connection:function(){return u("connection")},_zlib:function(){return u("zlib")},_context:function(){return u("context")},_nodescript:function(){return u("nodescript")},_httpparser:function(){return u("httpparser")},_dataview:function(){return u("dataview")},_signal:function(){return u("signal")},_fsevent:function(){return u("fsevent")},_tlswrap:function(){return u("tlswrap")}}}function h(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}var u=n("crypto");(o=r.exports=t).sha1=function(n){return t(n)},o.keys=function(n){return t(n,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},o.MD5=function(n){return t(n,{algorithm:"md5",encoding:"hex"})},o.keysMD5=function(n){return t(n,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var s=u.getHashes?u.getHashes().slice():["sha1","md5"];s.push("passthrough");var l=["buffer","hex","binary","base64"];o.writeToStream=function(r,e,o){return void 0===o&&(o=e,e={}),p(e=a(r,e),o).dispatch(r)}}).call(this,n("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_794fcf4d.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(n,e,t){(function(){!function(t){function d(n){var e=n.charCodeAt(0);return 43===e||45===e?62:47===e||95===e?63:48>e?-1:58>e?e-48+26+26:91>e?e-65:123>e?e-97+26:void 0}var l="undefined"==typeof Uint8Array?Array:Uint8Array;t.toByteArray=function(c){function e(t){g[u++]=t}var s,p,h,f,g;if(0<c.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var y=c.length;f="="===c.charAt(y-2)?2:"="===c.charAt(y-1)?1:0,g=new l(3*c.length/4-f),p=0<f?c.length-4:c.length;var u=0;for(s=0;s<p;s+=4,0)e((16711680&(h=d(c.charAt(s))<<18|d(c.charAt(s+1))<<12|d(c.charAt(s+2))<<6|d(c.charAt(s+3))))>>16),e((65280&h)>>8),e(255&h);return 2==f?e(255&(h=d(c.charAt(s))<<2|d(c.charAt(s+1))>>4)):1==f&&(e(255&(h=d(c.charAt(s))<<10|d(c.charAt(s+1))<<4|d(c.charAt(s+2))>>2)>>8),e(255&h)),g},t.fromByteArray=function(s){function e(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}var a,d,l,c,p=s.length%3,i="";for(a=0,l=s.length-p;a<l;a+=3)d=(s[a]<<16)+(s[a+1]<<8)+s[a+2],i+=e(63&(c=d)>>18)+e(63&c>>12)+e(63&c>>6)+e(63&c);return 1==p?(i+=e((d=s[s.length-1])>>2),i+=e(63&d<<4),i+="=="):2===p?(i+=e((d=(s[s.length-2]<<8)+s[s.length-1])>>10),i+=e(63&d>>4),i+=e(63&d<<2),i+="="):void 0,i}}(void 0===t?this.base64js={}:t)}).call(this,n("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(r,t,o){(function(O,P,z,q){var D=Math.min;function z(d,l,t){if(!(this instanceof z))return new z(d,l,t);var n,c,p,h,f,g=typeof d;if("base64"===l&&"string"==g)for(d=(n=d).trim?n.trim():n.replace(/^\s+|\s+$/g,"");0!=d.length%4;)d+="=";if("number"==g)c=A(d);else if("string"==g)c=z.byteLength(d,l);else{if("object"!=g)throw new Error("First argument needs to be a number, array or string.");c=A(d.length)}if(z._useTypedArrays?p=z._augment(new Uint8Array(c)):((p=this).length=c,p._isBuffer=!0),z._useTypedArrays&&"number"==typeof d.byteLength)p._set(d);else if(x(f=d)||z.isBuffer(f)||f&&"object"==typeof f&&"number"==typeof f.length)for(h=0;h<c;h++)p[h]=z.isBuffer(d)?d.readUInt8(h):d[h];else if("string"==g)p.write(d,0,l);else if("number"==g&&!z._useTypedArrays&&!t)for(h=0;h<c;h++)p[h]=0;return p}function i(o,e,t,n){return z._charsWritten=k(function(r){for(var e=[],t=0;t<r.length;t++)e.push(255&r.charCodeAt(t));return e}(e),o,t,n)}function p(o,e,t,n){return z._charsWritten=k(function(a){for(var e,s,d,l=[],o=0;o<a.length;o++)e=a.charCodeAt(o),s=e>>8,d=e%256,l.push(d),l.push(s);return l}(e),o,t,n)}function g(i,e,t){var a="";t=D(i.length,t);for(var s=e;s<t;s++)a+=Ee(i[s]);return a}function a(a,e,t,n){n||(F("boolean"==typeof t,"missing or invalid endian"),F(null!=e,"missing offset"),F(e+1<a.length,"Trying to read beyond buffer length"));var r,s=a.length;if(!(s<=e))return t?(r=a[e],e+1<s&&(r|=a[e+1]<<8)):(r=a[e]<<8,e+1<s&&(r|=a[e+1])),r}function l(a,e,t,n){n||(F("boolean"==typeof t,"missing or invalid endian"),F(null!=e,"missing offset"),F(e+3<a.length,"Trying to read beyond buffer length"));var r,s=a.length;if(!(s<=e))return t?(e+2<s&&(r=a[e+2]<<16),e+1<s&&(r|=a[e+1]<<8),r|=a[e],e+3<s&&(r+=a[e+3]<<24>>>0)):(e+1<s&&(r=a[e+1]<<16),e+2<s&&(r|=a[e+2]<<8),e+3<s&&(r|=a[e+3]),r+=a[e]<<24>>>0),r}function d(i,e,t,n){if(n||(F("boolean"==typeof t,"missing or invalid endian"),F(null!=e,"missing offset"),F(e+1<i.length,"Trying to read beyond buffer length")),!(i.length<=e)){var r=a(i,e,t,!0);return 32768&r?-1*(65535-r+1):r}}function u(i,e,t,n){if(n||(F("boolean"==typeof t,"missing or invalid endian"),F(null!=e,"missing offset"),F(e+3<i.length,"Trying to read beyond buffer length")),!(i.length<=e)){var r=l(i,e,t,!0);return 2147483648&r?-1*(4294967295-r+1):r}}function c(o,e,t,n){return n||(F("boolean"==typeof t,"missing or invalid endian"),F(e+3<o.length,"Trying to read beyond buffer length")),s.read(o,e,t,23,4)}function y(o,e,t,n){return n||(F("boolean"==typeof t,"missing or invalid endian"),F(e+7<o.length,"Trying to read beyond buffer length")),s.read(o,e,t,52,8)}function m(s,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<s.length,"trying to write beyond buffer length"),T(e,65535));var o=s.length;if(!(o<=t))for(var i=0,d=D(o-t,2);i<d;i++)s[t+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function b(s,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<s.length,"trying to write beyond buffer length"),T(e,4294967295));var o=s.length;if(!(o<=t))for(var i=0,d=D(o-t,4);i<d;i++)s[t+i]=255&e>>>8*(n?i:3-i)}function _(i,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<i.length,"Trying to write beyond buffer length"),U(e,32767,-32768)),i.length<=t||m(i,0<=e?e:65535+e+1,t,n,r)}function w(i,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<i.length,"Trying to write beyond buffer length"),U(e,2147483647,-2147483648)),i.length<=t||b(i,0<=e?e:4294967295+e+1,t,n,r)}function v(i,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<i.length,"Trying to write beyond buffer length"),N(e,34028234663852886e22,-34028234663852886e22)),i.length<=t||s.write(i,e,t,n,23,4)}function E(i,e,t,n,r){r||(F(null!=e,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+7<i.length,"Trying to write beyond buffer length"),N(e,17976931348623157e292,-17976931348623157e292)),i.length<=t||s.write(i,e,t,n,52,8)}function I(r,o,t){return"number"==typeof r?o<=(r=~~r)?o:0<=r||0<=(r+=o)?r:0:t}function A(t){var n=Math.ceil;return 0>(t=~~n(+t))?0:t}function x(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function S(t){return 16>t?"0"+t.toString(16):t.toString(16)}function j(a){for(var e,s=[],t=0;t<a.length;t++)if(e=a.charCodeAt(t),127>=e)s.push(a.charCodeAt(t));else{var d=t;55296<=e&&57343>=e&&t++;for(var o=encodeURIComponent(a.slice(d,t+1)).substr(1).split("%"),i=0;i<o.length;i++)s.push(parseInt(o[i],16))}return s}function C(t){return M.toByteArray(t)}function k(i,e,t,n){for(var r=0;r<n&&!(r+t>=e.length||r>=i.length);r++)e[r+t]=i[r];return r}function B(t){try{return decodeURIComponent(t)}catch(t){return Ee(65533)}}function T(n,e){F("number"==typeof n,"cannot write a non-number as a number"),F(0<=n,"specified a negative value for writing an unsigned value"),F(n<=e,"value is larger than maximum value for type"),F(ke(n)===n,"value has a fractional component")}function U(r,e,t){F("number"==typeof r,"cannot write a non-number as a number"),F(r<=e,"value larger than maximum allowed value"),F(t<=r,"value smaller than minimum allowed value"),F(ke(r)===r,"value has a fractional component")}function N(r,e,t){F("number"==typeof r,"cannot write a non-number as a number"),F(r<=e,"value larger than maximum allowed value"),F(t<=r,"value smaller than minimum allowed value")}function F(n,e){if(!n)throw new Error(e||"Failed assertion")}var M=r("base64-js"),s=r("ieee754");o.Buffer=z,o.SlowBuffer=z,o.INSPECT_MAX_BYTES=50,z.poolSize=8192,z._useTypedArrays=function(){try{var n=new ArrayBuffer(0),e=new Uint8Array(n);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),z.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},z.isBuffer=function(t){return null!=t&&t._isBuffer},z.byteLength=function(r,o){var t;switch(r+="",o||"utf8"){case"hex":t=r.length/2;break;case"utf8":case"utf-8":t=j(r).length;break;case"ascii":case"binary":case"raw":t=r.length;break;case"base64":t=C(r).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":t=2*r.length;break;default:throw new Error("Unknown encoding");}return t},z.concat=function(a,e){if(F(x(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===a.length)return new z(0);if(1===a.length)return a[0];var s;if("number"!=typeof e)for(s=e=0;s<a.length;s++)e+=a[s].length;var d=new z(e),r=0;for(s=0;s<a.length;s++){var l=a[s];l.copy(d,r),r+=l.length}return d},z.prototype.write=function(h,e,g,y){if(isFinite(e))isFinite(g)||(y=g,g=void 0);else{var m=y;y=e,e=g,g=m}e=+e||0;var o,b,_,w,x,v,E,I=this.length-e;switch((!g||I<(g=+g))&&(g=I),y=((y||"utf8")+"").toLowerCase()){case"hex":o=function(s,e,t,d){t=+t||0;var l=s.length-t;(!d||l<(d=+d))&&(d=l);var o=e.length;F(0==o%2,"Invalid hex string"),o/2<d&&(d=o/2);for(var i,c=0;c<d;c++)i=parseInt(e.substr(2*c,2),16),F(!isNaN(i),"Invalid hex string"),s[t+c]=i;return z._charsWritten=2*c,c}(this,h,e,g);break;case"utf8":case"utf-8":x=this,v=e,E=g,o=z._charsWritten=k(j(h),x,v,E);break;case"ascii":o=i(this,h,e,g);break;case"binary":o=i(this,h,e,g);break;case"base64":b=this,_=e,w=g,o=z._charsWritten=k(C(h),b,_,w);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,h,e,g);break;default:throw new Error("Unknown encoding");}return o},z.prototype.toString=function(s,d,l){var c,p,h,f,y=this;if(s=((s||"utf8")+"").toLowerCase(),d=+d||0,(l=void 0===l?l=y.length:+l)===d)return"";switch(s){case"hex":c=function(a,e,s){var d=a.length;(!e||0>e)&&(e=0),(!s||0>s||d<s)&&(s=d);for(var r="",l=e;l<s;l++)r+=S(a[l]);return r}(y,d,l);break;case"utf8":case"utf-8":c=function(a,e,t){var s="",d="";t=D(a.length,t);for(var l=e;l<t;l++)127>=a[l]?(s+=B(d)+Ee(a[l]),d=""):d+="%"+a[l].toString(16);return s+B(d)}(y,d,l);break;case"ascii":c=g(y,d,l);break;case"binary":c=g(y,d,l);break;case"base64":p=y,f=l,c=0===(h=d)&&f===p.length?M.fromByteArray(p):M.fromByteArray(p.slice(h,f));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=function(a,e,t){for(var n=a.slice(e,t),r="",s=0;s<n.length;s+=2)r+=Ee(n[s]+256*n[s+1]);return r}(y,d,l);break;default:throw new Error("Unknown encoding");}return c},z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},z.prototype.copy=function(a,e,s,d){if(s=s||0,d||0===d||(d=this.length),e=e||0,d!==s&&0!==a.length&&0!==this.length){F(s<=d,"sourceEnd < sourceStart"),F(0<=e&&e<a.length,"targetStart out of bounds"),F(0<=s&&s<this.length,"sourceStart out of bounds"),F(0<=d&&d<=this.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-e<d-s&&(d=a.length-e+s);var l=d-s;if(100>l||!z._useTypedArrays)for(var o=0;o<l;o++)a[o+e]=this[o+s];else a._set(this.subarray(s,s+l),e)}},z.prototype.slice=function(a,s){var d=this.length;if(a=I(a,d,0),s=I(s,d,d),z._useTypedArrays)return z._augment(this.subarray(a,s));for(var n=s-a,r=new z(n,void 0,!0),o=0;o<n;o++)r[o]=this[o+a];return r},z.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},z.prototype.set=function(n,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,e)},z.prototype.readUInt8=function(n,e){if(e||(F(null!=n,"missing offset"),F(n<this.length,"Trying to read beyond buffer length")),!(n>=this.length))return this[n]},z.prototype.readUInt16LE=function(n,e){return a(this,n,!0,e)},z.prototype.readUInt16BE=function(n,e){return a(this,n,!1,e)},z.prototype.readUInt32LE=function(n,e){return l(this,n,!0,e)},z.prototype.readUInt32BE=function(n,e){return l(this,n,!1,e)},z.prototype.readInt8=function(n,e){if(e||(F(null!=n,"missing offset"),F(n<this.length,"Trying to read beyond buffer length")),!(n>=this.length))return 128&this[n]?-1*(255-this[n]+1):this[n]},z.prototype.readInt16LE=function(n,e){return d(this,n,!0,e)},z.prototype.readInt16BE=function(n,e){return d(this,n,!1,e)},z.prototype.readInt32LE=function(n,e){return u(this,n,!0,e)},z.prototype.readInt32BE=function(n,e){return u(this,n,!1,e)},z.prototype.readFloatLE=function(n,e){return c(this,n,!0,e)},z.prototype.readFloatBE=function(n,e){return c(this,n,!1,e)},z.prototype.readDoubleLE=function(n,e){return y(this,n,!0,e)},z.prototype.readDoubleBE=function(n,e){return y(this,n,!1,e)},z.prototype.writeUInt8=function(r,e,t){t||(F(null!=r,"missing value"),F(null!=e,"missing offset"),F(e<this.length,"trying to write beyond buffer length"),T(r,255)),e>=this.length||(this[e]=r)},z.prototype.writeUInt16LE=function(r,e,t){m(this,r,e,!0,t)},z.prototype.writeUInt16BE=function(r,e,t){m(this,r,e,!1,t)},z.prototype.writeUInt32LE=function(r,e,t){b(this,r,e,!0,t)},z.prototype.writeUInt32BE=function(r,e,t){b(this,r,e,!1,t)},z.prototype.writeInt8=function(r,e,t){t||(F(null!=r,"missing value"),F(null!=e,"missing offset"),F(e<this.length,"Trying to write beyond buffer length"),U(r,127,-128)),e>=this.length||(0<=r?this.writeUInt8(r,e,t):this.writeUInt8(255+r+1,e,t))},z.prototype.writeInt16LE=function(r,e,t){_(this,r,e,!0,t)},z.prototype.writeInt16BE=function(r,e,t){_(this,r,e,!1,t)},z.prototype.writeInt32LE=function(r,e,t){w(this,r,e,!0,t)},z.prototype.writeInt32BE=function(r,e,t){w(this,r,e,!1,t)},z.prototype.writeFloatLE=function(r,e,t){v(this,r,e,!0,t)},z.prototype.writeFloatBE=function(r,e,t){v(this,r,e,!1,t)},z.prototype.writeDoubleLE=function(r,e,t){E(this,r,e,!0,t)},z.prototype.writeDoubleBE=function(r,e,t){E(this,r,e,!1,t)},z.prototype.fill=function(o,i,a){if(o=o||0,i=i||0,a=a||this.length,"string"==typeof o&&(o=o.charCodeAt(0)),F("number"==typeof o&&!isNaN(o),"value is not a number"),F(i<=a,"end < start"),a!==i&&0!==this.length){F(0<=i&&i<this.length,"start out of bounds"),F(0<=a&&a<=this.length,"end out of bounds");for(var s=i;s<a;s++)this[s]=o}},z.prototype.inspect=function(){for(var r=[],e=this.length,t=0;t<e;t++)if(r[t]=S(this[t]),t===o.INSPECT_MAX_BYTES){r[t+1]="...";break}return"<Buffer "+r.join(" ")+">"},z.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(z._useTypedArrays)return new z(this).buffer;for(var r=new Uint8Array(this.length),e=0,o=r.length;e<o;e+=1)r[e]=this[e];return r.buffer};var f=z.prototype;z._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=f.get,t.set=f.set,t.write=f.write,t.toString=f.toString,t.toLocaleString=f.toString,t.toJSON=f.toJSON,t.copy=f.copy,t.slice=f.slice,t.readUInt8=f.readUInt8,t.readUInt16LE=f.readUInt16LE,t.readUInt16BE=f.readUInt16BE,t.readUInt32LE=f.readUInt32LE,t.readUInt32BE=f.readUInt32BE,t.readInt8=f.readInt8,t.readInt16LE=f.readInt16LE,t.readInt16BE=f.readInt16BE,t.readInt32LE=f.readInt32LE,t.readInt32BE=f.readInt32BE,t.readFloatLE=f.readFloatLE,t.readFloatBE=f.readFloatBE,t.readDoubleLE=f.readDoubleLE,t.readDoubleBE=f.readDoubleBE,t.writeUInt8=f.writeUInt8,t.writeUInt16LE=f.writeUInt16LE,t.writeUInt16BE=f.writeUInt16BE,t.writeUInt32LE=f.writeUInt32LE,t.writeUInt32BE=f.writeUInt32BE,t.writeInt8=f.writeInt8,t.writeInt16LE=f.writeInt16LE,t.writeInt16BE=f.writeInt16BE,t.writeInt32LE=f.writeInt32LE,t.writeInt32BE=f.writeInt32BE,t.writeFloatLE=f.writeFloatLE,t.writeFloatBE=f.writeFloatBE,t.writeDoubleLE=f.writeDoubleLE,t.writeDoubleBE=f.writeDoubleBE,t.fill=f.fill,t.inspect=f.inspect,t.toArrayBuffer=f.toArrayBuffer,t}}).call(this,r("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(n,r){(function(o,e,a){a=n("buffer").Buffer;var t=new a(4);t.fill(0),r.exports={hash:function(o,i,s,n){return a.isBuffer(o)||(o=new a(o)),function(s,e,t){for(var n=new a(e),r=t?n.writeInt32BE:n.writeInt32LE,o=0;o<s.length;o++)r.call(n,s[o],4*o,!0);return n}(i(function(s,d){if(0!=s.length%4){var l=s.length+(4-s.length%4);s=a.concat([s,t],l)}for(var n=[],r=d?s.readInt32BE:s.readInt32LE,o=0;o<s.length;o+=4)n.push(r.call(s,o));return n}(o,n),8*o.length),s,n)}}}).call(this,n("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(n,t,r){(function(o,e,s){function i(n,a){var r=l[n=n||"sha1"],o=[];return r||t("algorithm:",n,"is not yet supported"),{update:function(t){return s.isBuffer(t)||(t=new s(t)),o.push(t),t.length,this},digest:function(i){var e=s.concat(o),t=a?function(a,e,l){s.isBuffer(e)||(e=new s(e)),s.isBuffer(l)||(l=new s(l)),64<e.length?e=a(e):64>e.length&&(e=s.concat([e,d],64));for(var c=new s(64),r=new s(64),o=0;64>o;o++)c[o]=54^e[o],r[o]=92^e[o];var p=a(s.concat([c,l]));return a(s.concat([r,p]))}(r,a,e):r(e);return o=null,i?t.toString(i):t}}}function t(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}s=n("buffer").Buffer;var u=n("./sha"),h=n("./sha256"),c=n("./rng"),l={sha1:u,sha256:h,md5:n("./md5")},d=new s(64);d.fill(0),r.createHash=function(t){return i(t)},r.createHmac=function(n,e){return i(n,e)},r.randomBytes=function(n,r){if(!r||!r.call)return new s(c(n));try{r.call(this,void 0,new s(c(n)))}catch(t){r(t)}},function(r,e){for(var t in r)e(r[t],t)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(n){r[n]=function(){t("sorry,",n,"is not implemented yet")}})}).call(this,n("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t){(function(){function n(y,e){y[e>>5]|=128<<e%32,y[14+(e+64>>>9<<4)]=e;for(var t=1732584193,m=-271733879,b=-1732584194,_=271733878,w=0;w<y.length;w+=16){var x=t,a=m,s=b,f=_;t=l(t,m,b,_,y[w+0],7,-680876936),_=l(_,t,m,b,y[w+1],12,-389564586),b=l(b,_,t,m,y[w+2],17,606105819),m=l(m,b,_,t,y[w+3],22,-1044525330),t=l(t,m,b,_,y[w+4],7,-176418897),_=l(_,t,m,b,y[w+5],12,1200080426),b=l(b,_,t,m,y[w+6],17,-1473231341),m=l(m,b,_,t,y[w+7],22,-45705983),t=l(t,m,b,_,y[w+8],7,1770035416),_=l(_,t,m,b,y[w+9],12,-1958414417),b=l(b,_,t,m,y[w+10],17,-42063),m=l(m,b,_,t,y[w+11],22,-1990404162),t=l(t,m,b,_,y[w+12],7,1804603682),_=l(_,t,m,b,y[w+13],12,-40341101),b=l(b,_,t,m,y[w+14],17,-1502002290),t=d(t,m=l(m,b,_,t,y[w+15],22,1236535329),b,_,y[w+1],5,-165796510),_=d(_,t,m,b,y[w+6],9,-1069501632),b=d(b,_,t,m,y[w+11],14,643717713),m=d(m,b,_,t,y[w+0],20,-373897302),t=d(t,m,b,_,y[w+5],5,-701558691),_=d(_,t,m,b,y[w+10],9,38016083),b=d(b,_,t,m,y[w+15],14,-660478335),m=d(m,b,_,t,y[w+4],20,-405537848),t=d(t,m,b,_,y[w+9],5,568446438),_=d(_,t,m,b,y[w+14],9,-1019803690),b=d(b,_,t,m,y[w+3],14,-187363961),m=d(m,b,_,t,y[w+8],20,1163531501),t=d(t,m,b,_,y[w+13],5,-1444681467),_=d(_,t,m,b,y[w+2],9,-51403784),b=d(b,_,t,m,y[w+7],14,1735328473),t=h(t,m=d(m,b,_,t,y[w+12],20,-1926607734),b,_,y[w+5],4,-378558),_=h(_,t,m,b,y[w+8],11,-2022574463),b=h(b,_,t,m,y[w+11],16,1839030562),m=h(m,b,_,t,y[w+14],23,-35309556),t=h(t,m,b,_,y[w+1],4,-1530992060),_=h(_,t,m,b,y[w+4],11,1272893353),b=h(b,_,t,m,y[w+7],16,-155497632),m=h(m,b,_,t,y[w+10],23,-1094730640),t=h(t,m,b,_,y[w+13],4,681279174),_=h(_,t,m,b,y[w+0],11,-358537222),b=h(b,_,t,m,y[w+3],16,-722521979),m=h(m,b,_,t,y[w+6],23,76029189),t=h(t,m,b,_,y[w+9],4,-640364487),_=h(_,t,m,b,y[w+12],11,-421815835),b=h(b,_,t,m,y[w+15],16,530742520),t=p(t,m=h(m,b,_,t,y[w+2],23,-995338651),b,_,y[w+0],6,-198630844),_=p(_,t,m,b,y[w+7],10,1126891415),b=p(b,_,t,m,y[w+14],15,-1416354905),m=p(m,b,_,t,y[w+5],21,-57434055),t=p(t,m,b,_,y[w+12],6,1700485571),_=p(_,t,m,b,y[w+3],10,-1894986606),b=p(b,_,t,m,y[w+10],15,-1051523),m=p(m,b,_,t,y[w+1],21,-2054922799),t=p(t,m,b,_,y[w+8],6,1873313359),_=p(_,t,m,b,y[w+15],10,-30611744),b=p(b,_,t,m,y[w+6],15,-1560198380),m=p(m,b,_,t,y[w+13],21,1309151649),t=p(t,m,b,_,y[w+4],6,-145523070),_=p(_,t,m,b,y[w+11],10,-1120210379),b=p(b,_,t,m,y[w+2],15,718787259),m=p(m,b,_,t,y[w+9],21,-343485551),t=g(t,x),m=g(m,a),b=g(b,s),_=g(_,f)}return[t,m,b,_]}function a(s,e,t,n,r,o){return g((i=g(g(e,s),g(n,o)))<<(d=r)|i>>>32-d,t);var i,d}function l(s,e,t,n,r,o,i){return a(e&t|~e&n,s,e,r,o,i)}function d(s,e,t,n,r,o,i){return a(e&n|t&~n,s,e,r,o,i)}function h(s,e,t,n,r,o,i){return a(e^t^n,s,e,r,o,i)}function p(s,e,t,n,r,o,i){return a(t^(e|~n),s,e,r,o,i)}function g(r,e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}var r=e("./helpers");t.exports=function(t){return r.hash(t,n,16)}}).call(this,e("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,e){(function(){var t;t=function(o){for(var e,i=Array(o),n=0;n<o;n++)0==(3&n)&&(e=4294967296*Math.random()),i[n]=255&e>>>((3&n)<<3);return i},e.exports=t}).call(this,t("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t){(function(){function n(m,e){m[e>>5]|=128<<24-e%32,m[15+(e+64>>9<<4)]=e;for(var t,b=Array(80),r=1732584193,w=-271733879,x=-1732584194,j=271733878,k=-1009589776,v=0;v<m.length;v+=16){for(var E=r,c=w,I=x,A=j,h=k,p=0;80>p;p++){b[p]=16>p?m[v+p]:l(b[p-3]^b[p-8]^b[p-14]^b[p-16],1);var L=_(_(l(r,5),d(p,w,x,j)),_(_(k,b[p]),20>(t=p)?1518500249:40>t?1859775393:60>t?-1894007588:-899497514));k=j,j=x,x=l(w,30),w=r,r=L}r=_(r,E),w=_(w,c),x=_(x,I),j=_(j,A),k=_(k,h)}return[r,w,x,j,k]}function d(o,e,t,n){return 20>o?e&t|~e&n:!(40>o)&&60>o?e&t|e&n|t&n:e^t^n}function _(r,e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}function l(n,e){return n<<e|n>>>32-e}var r=e("./helpers");t.exports=function(t){return r.hash(t,n,20,!0)}}).call(this,e("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t){(function(){function x(r,e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}function _(n,e){return n>>>e|n<<32-e}function j(n,e){return n>>>e}function n(k,e){var t,L,O,S,C,B,T,U,P,D,N,z,q,F,M,R,Y,H,V=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Q=Array(64);k[e>>5]|=128<<24-e%32,k[15+(e+64>>9<<4)]=e;for(var E=0;E<k.length;E+=16){t=v[0],L=v[1],O=v[2],S=v[3],C=v[4],B=v[5],T=v[6],U=v[7];for(var W=0;64>W;W++)Q[W]=16>W?k[W+E]:x(x(x((H=Q[W-2],_(H,17)^_(H,19)^j(H,10)),Q[W-7]),(Y=Q[W-15],_(Y,7)^_(Y,18)^j(Y,3))),Q[W-16]),P=x(x(x(x(U,_(R=C,6)^_(R,11)^_(R,25)),(M=C)&B^~M&T),V[W]),Q[W]),D=x(_(F=t,2)^_(F,13)^_(F,22),(N=t)&(z=L)^N&(q=O)^z&q),U=T,T=B,B=C,C=x(S,P),S=O,O=L,L=t,t=x(P,D);v[0]=x(t,v[0]),v[1]=x(L,v[1]),v[2]=x(O,v[2]),v[3]=x(S,v[3]),v[4]=x(C,v[4]),v[5]=x(B,v[5]),v[6]=x(T,v[6]),v[7]=x(U,v[7])}return v}var r=e("./helpers");t.exports=function(t){return r.hash(t,n,32,!0)}}).call(this,e("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,n){(function(t){function r(){}(t=n.exports={}).nextTick=function(){var r="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(r)return function(t){return window.setImmediate(t)};if(e){var o=[];return window.addEventListener("message",function(n){var e=n.source;e!==window&&null!==e||"process-tick"!==n.data||(n.stopPropagation(),0<o.length&&o.shift()())},!0),function(t){o.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=r,t.addListener=r,t.once=r,t.off=r,t.removeListener=r,t.removeAllListeners=r,t.emit=r,t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(n,e,t){(function(){var y=Math.pow;t.read=function(p,e,t,n,r){var o,g,m=8*r-n-1,a=(1<<m)-1,s=a>>1,f=-7,b=t?r-1:0,_=t?-1:1,d=p[e+b];for(b+=_,o=d&(1<<-f)-1,d>>=-f,f+=m;0<f;o=256*o+p[e+b],b+=_,f-=8);for(g=o&(1<<-f)-1,o>>=-f,f+=n;0<f;g=256*g+p[e+b],b+=_,f-=8);if(0===o)o=1-s;else{if(o===a)return g?NaN:1/0*(d?-1:1);g+=y(2,n),o-=s}return(d?-1:1)*g*y(2,o-n)},t.write=function(m,e,b,n,r,_){var j,k,v,i=Math.LN2,w=Math.log,x=Math.abs,E=8*_-r-1,I=(1<<E)-1,c=I>>1,l=23===r?y(2,-24)-y(2,-77):0,d=n?0:_-1,A=n?1:-1,p=0>e||0===e&&0>1/e?1:0;for(e=x(e),isNaN(e)||e===1/0?(k=isNaN(e)?1:0,j=I):(j=ke(w(e)/i),1>e*(v=y(2,-j))&&(j--,v*=2),2<=(e+=1<=j+c?l/v:l*y(2,1-c))*v&&(j++,v/=2),I<=j+c?(k=0,j=I):1<=j+c?(k=(e*v-1)*y(2,r),j+=c):(k=e*y(2,c-1)*y(2,r),j=0));8<=r;m[b+d]=255&k,d+=A,k/=256,r-=8);for(j=j<<r|k,E+=r;0<E;m[b+d]=255&j,d+=A,j/=256,E-=8);m[b+d-A]|=128*p}}).call(this,n("lYpoI2"),"undefined"==typeof self?"undefined"==typeof window?{}:window:self,n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)})});g.prototype=new Error,g.prototype.name="InvalidCharacterError";var kn="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=(e+"").replace(/=+$/,"");if(1==t.length%4)throw new g("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,a="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?a+=Ee(255&n>>(6&-2*o)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a},vn=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!";}try{return y(t)}catch(e){return kn(t)}};m.prototype=new Error,m.prototype.name="InvalidTokenError";var En=function(e,t){if("string"!=typeof e)throw new m("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(vn(e.split(".")[n]))}catch(t){throw new m("Invalid token specified: "+t.message)}};En.InvalidTokenError=m;var In=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n},An=function(e){return function(t){return null==e?void 0:e[t]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ln=RegExp("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]","g"),On=function(e){return e=yn(e),e&&e.replace(/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,An).replace(Ln,"")},Sn=function(e){return e.match(/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g)||[]},Cn=function(e){return /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/.test(e)},Bn="\\ud800-\\udfff",Tn="\\u2700-\\u27bf",Un="a-z\\xdf-\\xf6\\xf8-\\xff",Pn="A-Z\\xc0-\\xd6\\xd8-\\xde",Dn="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nn="['\u2019]",zn="["+Dn+"]",qn="\\d+",Fn="["+Un+"]",Mn="[^"+Bn+Dn+qn+Tn+Un+Pn+"]",Rn="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",Hn="["+Pn+"]",Vn="(?:"+Fn+"|"+Mn+")",Qn="(?:"+Nn+"(?:d|ll|m|re|s|t|ve))?",Wn="(?:"+Nn+"(?:D|LL|M|RE|S|T|VE))?",$n="(?:"+("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]")+"|"+"\\ud83c[\\udffb-\\udfff]"+")"+"?",Kn="["+"\\ufe0e\\ufe0f"+"]?",Jn="(?:"+"\\u200d"+"(?:"+["[^"+Bn+"]",Rn,Yn].join("|")+")"+Kn+$n+")*",Gn="(?:"+["["+Tn+"]",Rn,Yn].join("|")+")"+(Kn+$n+Jn),Zn=RegExp([Hn+"?"+Fn+"+"+Qn+"(?="+[zn,Hn,"$"].join("|")+")","(?:"+Hn+"|"+Mn+")"+"+"+Wn+"(?="+[zn,Hn+Vn,"$"].join("|")+")",Hn+"?"+Vn+"+"+Qn,Hn+"+"+Wn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qn,Gn].join("|"),"g"),Xn=function(e){return e.match(Zn)||[]},er=function(e,t,n){return e=yn(e),t=n?void 0:t,void 0===t?Cn(e)?Xn(e):Sn(e):e.match(t)||[]},tr=RegExp("['\u2019]","g"),nr=function(e){return function(t){return In(er(On(t).replace(tr,"")),e,"")}}(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const rr=e=>`/`+e.map(e=>"object"==typeof e?e.value:nr(e)).join("/"),or=(e,{body:t={},query:n={},method:r="get"}={})=>{const o=rr(e.paths);return e.paths.length=0,{url:o,method:r,get:n,body:t}},ir={construct(e,t){return e.create(...t)},get(e,t){return Object.hasOwnProperty.call(e,t)?e[t]:(e.paths.push(t),e.call(e))},apply(e,t,n){if(1===e.paths.length){const t=e.paths[0];e.paths.length=0;const r=e.methodCallback({method:t,args:n});if(void 0!==r)return r;e.paths.push(t)}return e.get=n,e.apply(t,n)}};var ar=function(e){return w(e)&&!x(e)},sr="function"==typeof Symbol&&Symbol.for,dr=sr?Symbol.for("react.element"):60103;B.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return B(e,n,t)},{})};var lr=/[^\x20-\x7E]/,ur=/[\x2E\u3002\uFF0E\uFF61]/g,cr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pr=ke,hr=Ee,fr=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},gr=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},yr={parse:G,resolve:function(e,t){return G(e,!1,!0).resolve(t)},resolveObject:function(e,t){return e?G(e,!1,!0).resolveObject(t):t},format:function(e){return Y(e)&&(e=Z({},e)),X(e)},Url:J},mr=/^([a-z0-9.+-]+:)/i,br=/:[0-9]*$/,_r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wr=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),xr=["'"].concat(wr),jr=["%","/","?",";","#"].concat(xr),kr=["/","?","#"],vr=/^[+a-z0-9A-Z_-]{0,63}$/,Er=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ir={javascript:!0,"javascript:":!0},Ar={javascript:!0,"javascript:":!0},Lr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};J.prototype.parse=function(e,t,n){return Z(this,e,t,n)},J.prototype.format=function(){return X(this)},J.prototype.resolve=function(e){return this.resolveObject(G(e,!1,!0)).format()},J.prototype.resolveObject=function(e){if(Y(e)){var t=new J;t.parse(e,!1,!0),e=t}for(var n,r=new J,o=Object.keys(this),a=0;a<o.length;a++)n=o[a],r[n]=this[n];if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var d,l=Object.keys(e),u=0;u<l.length;u++)d=l[u],"protocol"!==d&&(r[d]=e[d]);return Lr[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var c;if(e.protocol&&e.protocol!==r.protocol){if(!Lr[e.protocol]){for(var h,f=Object.keys(e),g=0;g<f.length;g++)h=f[g],r[h]=e[h];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Ar[e.protocol]){for(c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),2>c.length&&c.unshift(""),r.pathname=c.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",p=r.search||"";r.path=y+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=m||s||r.host&&e.pathname,_=b,w=r.pathname&&r.pathname.split("/")||[],x=r.protocol&&!Lr[r.protocol];c=e.pathname&&e.pathname.split("/")||[],x&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),b=b&&(""===c[0]||""===w[0]));var j;if(m)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=c;else if(c.length)w||(w=[]),w.pop(),w=w.concat(c),r.search=e.search,r.query=e.query;else if(!R(e.search))return x&&(r.hostname=r.host=w.shift(),j=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"),j&&(r.auth=j.shift(),r.host=r.hostname=j.shift())),r.search=e.search,r.query=e.query,M(r.pathname)&&M(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var E=w.slice(-1)[0],I=(r.host||e.host||1<w.length)&&("."===E||".."===E)||""===E,A=0,L=w.length;0<=L;L--)E=w[L],"."===E?w.splice(L,1):".."===E?(w.splice(L,1),A++):A&&(w.splice(L,1),A--);if(!b&&!_)for(;A--;A)w.unshift("..");b&&""!==w[0]&&(!w[0]||"/"!==w[0].charAt(0))&&w.unshift(""),I&&"/"!==w.join("/").substr(-1)&&w.push("");var O=""===w[0]||w[0]&&"/"===w[0].charAt(0);return x&&(r.hostname=r.host=O?"":w.length?w.shift():"",j=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"),j&&(r.auth=j.shift(),r.host=r.hostname=j.shift())),b=b||r.host&&w.length,b&&!O&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),M(r.pathname)&&M(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},J.prototype.parseHost=function(){return ee(this)};var Or;te.prototype=Object.create(null),ne.EventEmitter=ne,ne.usingDomains=!1,ne.prototype.domain=void 0,ne.prototype._events=void 0,ne.prototype._maxListeners=void 0,ne.defaultMaxListeners=10,ne.init=function(){if(this.domain=null,ne.usingDomains&&Or.active);this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new te,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ne.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError("\"n\" argument must be a positive number");return this._maxListeners=e,this},ne.prototype.getMaxListeners=function(){return re(this)},ne.prototype.emit=function(e){var t,n,r,o,a,s,d,l="error"===e;if(s=this._events,s)l=l&&null==s.error;else if(!l)return!1;if(d=this.domain,l){if(t=arguments[1],d)t||(t=new Error("Uncaught, unspecified \"error\" event")),t.domainEmitter=this,t.domain=d,t.domainThrown=!1,d.emit("error",t);else if(t instanceof Error)throw t;else{var u=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw u.context=t,u}return!1}if(n=s[e],!n)return!1;var c="function"==typeof n;switch(r=arguments.length,r){case 1:oe(n,c,this);break;case 2:ie(n,c,this,arguments[1]);break;case 3:ae(n,c,this,arguments[1],arguments[2]);break;case 4:se(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=Array(r-1),a=1;a<r;a++)o[a-1]=arguments[a];de(n,c,this,o);}return!0},ne.prototype.addListener=function(e,t){return le(this,e,t,!1)},ne.prototype.on=ne.prototype.addListener,ne.prototype.prependListener=function(e,t){return le(this,e,t,!0)},ne.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.on(e,ce(this,e,t)),this},ne.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.prependListener(e,ce(this,e,t)),this},ne.prototype.removeListener=function(e,t){var n,r,o,a,s;if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");if(r=this._events,!r)return this;if(n=r[e],!n)return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new te:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=n[a].listener,o=a;break}if(0>o)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new te,this;delete r[e]}else he(n,o);r.removeListener&&this.emit("removeListener",e,s||t)}return this},ne.prototype.removeAllListeners=function(e){var t,n;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new te,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new te:delete n[e]),this;if(0===arguments.length){for(var r,o=Object.keys(n),a=0;a<o.length;++a)r=o[a],"removeListener"===r||this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new te,this._eventsCount=0,this}if(t=n[e],"function"==typeof t)this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0]);return this},ne.prototype.listeners=function(e){var t,n,r=this._events;return r?(t=r[e],n=t?"function"==typeof t?[t.listener||t]:ge(t):[]):n=[],n},ne.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):pe.call(e,t)},ne.prototype.listenerCount=pe,ne.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};const Sr={autoConnect:!0};class Cr extends ne{constructor(e,t={}){super(),t=B.all([t,Sr,t]);const{protocol:n,host:o,pathname:i}=yr.parse(e);this._options=t,this._token=null,this._isConnected=!1,this._isConnecting=!1,this._connectedAuth=null,this._host=`${n}//${o}`,this._path="/"===i?null:i,this._socketId=null,this._socket=null,this._binds={error:this._error.bind(this),connect:this._connect.bind(this),disconnect:this._disconnect.bind(this),create:this._proxySocket.bind(this,"create"),update:this._proxySocket.bind(this,"update"),delete:this._proxySocket.bind(this,"delete"),"*":(e,t)=>{r()&&console.log(`emit all`,{event:e,payload:t}),this.emit("*",e,t)}},this._options.autoConnect&&process.nextTick(()=>{this.connect()})}connect(){if(this._connectedAuth===this.token&&(this._isConnected||this._isConnecting))return void(r()&&console.log(`avoid connecting${this._name?" "+this._name:""} due to this._connectedAuth === this.token = ${this._connectedAuth===this.token} && this._isConnected = ${this._isConnected} && this._isConnecting = ${this._isConnecting})}`));this._isConnecting=!0,this._isConnected=!1,this._connectedAuth=this.token;const e=Object.assign({forceNew:!0,path:this._path},this.token?{transportOptions:{polling:{extraHeaders:{Authorization:`Bearer ${this.token}`}}}}:{});this._socket&&(r()&&this._socketId&&console.log(`disconnecting from ${this._socketId}`),this._unwireSocket(),this._socket.disconnect(!0)),r()&&console.log(`connecting${this._name?" "+this._name:""} ${this.token?"with":"without"} credentials to ${this._host}`,{auth:e});const t=n(this._host,e);r()&&(t.on("connect",()=>{this._socket===t?(this._socketId=t.id,r()&&console.log(`@pleasure-js/api-client${this._name?" ("+this._name+")":""} connected with id ${t.id}`)):r()&&console.log(`BEWARE! @pleasure-js/api-client${this._name?" ("+this._name+")":""} connected with id ${t.id} but not the main driver`)}),t.on("disconnect",e=>{r()&&console.log(`@pleasure-js/api-client${this._name?" ("+this._name+")":""} disconnected due to ${e}`)}),t.on("reconnecting",e=>{r()&&console.log(`@pleasure-js/api-client${this._name?" ("+this._name+")":""} reconnecting attempt # ${e}`)})),t.onevent=Cr._onEvent(t.onevent),this._socket=t,this._wireSocket()}static _onEvent(e){return function(t){r()&&console.log(`receiving packet ${t}`);const n=t.data||[];e.call(this,t),t.data=["*"].concat(n),e.call(this,t)}}_wiring(e,t=!0,n){e.forEach(e=>{this._socket[t?"on":"off"](e,n||this._binds[e])})}_unwireSocket(){this._wiring(Object.keys(this._binds),!1),this._socket.removeAllListeners()}_wireSocket(){this._wiring(Object.keys(this._binds))}_proxySocket(e,t){r()&&console.log(`proxy socket`,{method:e,payload:t}),this.emit(e,t)}_error(...e){this._isConnecting=!1,this.emit("error",...e)}_connect(){r()&&console.log(`connected ${this._socket.id}`),this._isConnected=!0,this._isConnecting=!1,this.emit("connect")}_disconnect(){r()&&console.log(`disconnected ${this._socket.id}`),this._isConnected=!1,this.emit("disconnect")}get socket(){return this._socket}get token(){return this._token}set token(e){return this._token=e,this._isConnected&&this.connect(),e}}var Br=function(){try{var e=Qt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Tr=Br,Ur=function(e,t,n){"__proto__"==t&&Tr?Tr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Pr=function(e){return function(t,n,r){for(var o,i=-1,a=Object(t),s=r(t),d=s.length;d--&&(o=s[e?d:++i],!1!==n(a[o],o,a)););return t}}(),Dr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Nr=function(e){return It(e)&&"[object Arguments]"==Et(e)},zr=Object.prototype,qr=zr.hasOwnProperty,Fr=zr.propertyIsEnumerable,Mr=Nr(function(){return arguments}())?Nr:function(e){return It(e)&&qr.call(e,"callee")&&!Fr.call(e,"callee")},Rr=Mr,Yr=function(){return!1},Hr=i(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,i=o?ht.Buffer:void 0,a=i?i.isBuffer:void 0;e.exports=a||Yr}),Vr=function(e,t){var n=typeof e;return t=null==t?9007199254740991:t,!!t&&("number"==n||"symbol"!=n&&/^(?:0|[1-9]\d*)$/.test(e))&&-1<e&&0==e%1&&e<t},Qr=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},Wr={};Wr["[object Float32Array]"]=Wr["[object Float64Array]"]=Wr["[object Int8Array]"]=Wr["[object Int16Array]"]=Wr["[object Int32Array]"]=Wr["[object Uint8Array]"]=Wr["[object Uint8ClampedArray]"]=Wr["[object Uint16Array]"]=Wr["[object Uint32Array]"]=!0,Wr["[object Arguments]"]=Wr["[object Array]"]=Wr["[object ArrayBuffer]"]=Wr["[object Boolean]"]=Wr["[object DataView]"]=Wr["[object Date]"]=Wr["[object Error]"]=Wr["[object Function]"]=Wr["[object Map]"]=Wr["[object Number]"]=Wr["[object Object]"]=Wr["[object RegExp]"]=Wr["[object Set]"]=Wr["[object String]"]=Wr["[object WeakMap]"]=!1;var $r=i(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,i=o&&ut.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e?e:i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=a}),Kr=$r&&$r.isTypedArray,Jr=Kr?function(e){return function(t){return e(t)}}(Kr):function(e){return It(e)&&Qr(e.length)&&!!Wr[Et(e)]},Gr=Jr,Zr=Object.prototype,Xr=Zr.hasOwnProperty,eo=function(e,t){var n=st(e),r=!n&&Rr(e),o=!n&&!r&&Hr(e),i=!n&&!r&&!o&&Gr(e),a=n||r||o||i,s=a?Dr(e.length,String):[],d=s.length;for(var l in e)(t||Xr.call(e,l))&&!(a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vr(l,d)))&&s.push(l);return s},to=Object.prototype,no=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||to;return e===n},ro=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),oo=Object.prototype,ao=oo.hasOwnProperty,so=function(e){if(!no(e))return ro(e);var t=[];for(var n in Object(e))ao.call(e,n)&&"constructor"!=n&&t.push(n);return t},lo=function(e){return null!=e&&Qr(e.length)&&!Bt(e)},uo=function(e){return lo(e)?eo(e):so(e)},co=function(e,t){return e&&Pr(e,t,uo)};ye.prototype.clear=function(){this.__data__=new on,this.size=0},ye.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof on){var r=n.__data__;if(!sn||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(e,t),this.size=n.size,this};var po=ye;me.prototype.add=me.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},me.prototype.has=function(e){return this.__data__.has(e)};var ho=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},fo=function(e,t){return e.has(t)},go=function(e,t,n,r,o,i){var a=1&n,s=e.length,d=t.length;if(s!=d&&!(a&&d>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,c=!0,p=2&n?new me:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var h=e[u],f=t[u];if(r)var g=a?r(f,h,u,t,e,i):r(h,f,u,e,t,i);if(void 0!==g){if(g)continue;c=!1;break}if(p){if(!ho(t,function(e,t){if(!fo(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)})){c=!1;break}}else if(!(h===f||o(h,f,n,r,i))){c=!1;break}}return i["delete"](e),i["delete"](t),c},yo=ht.Uint8Array,mo=yo,bo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},_o=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},wo=gt?gt.prototype:void 0,xo=wo?wo.valueOf:void 0,jo=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!!(e.byteLength==t.byteLength&&i(new mo(e),new mo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return en(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=bo;case"[object Set]":var d=1&r;if(s||(s=_o),e.size!=t.size&&!d)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=go(s(e),s(t),r,o,i,a);return a["delete"](e),u;case"[object Symbol]":if(xo)return xo.call(e)==xo.call(t);}return!1},ko=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},vo=function(e,t,n){var r=t(e);return st(e)?r:ko(r,n(e))},Eo=function(e,t){for(var n,r=-1,o=null==e?0:e.length,i=0,a=[];++r<o;)n=e[r],t(n,r,e)&&(a[i++]=n);return a},Io=Object.prototype,Ao=Io.propertyIsEnumerable,Lo=Object.getOwnPropertySymbols,Oo=Lo?function(e){return null==e?[]:(e=Object(e),Eo(Lo(e),function(t){return Ao.call(e,t)}))}:function(){return[]},So=function(e){return vo(e,uo,Oo)},Co=Object.prototype,Bo=Co.hasOwnProperty,To=Qt(ht,"DataView"),Uo=To,Po=Qt(ht,"Promise"),Do=Po,No=Qt(ht,"Set"),zo=No,qo=Qt(ht,"WeakMap"),Fo=qo,Mo="[object Map]",Ro="[object Promise]",Yo="[object Set]",Ho="[object WeakMap]",Vo="[object DataView]",Qo=zt(Uo),Wo=zt(sn),$o=zt(Do),Ko=zt(zo),Jo=zt(Fo),Go=Et;(Uo&&Go(new Uo(new ArrayBuffer(1)))!=Vo||sn&&Go(new sn)!=Mo||Do&&Go(Do.resolve())!=Ro||zo&&Go(new zo)!=Yo||Fo&&Go(new Fo)!=Ho)&&(Go=function(e){var t=Et(e),n=t=="[object Object]"?e.constructor:void 0,r=n?zt(n):"";if(r)switch(r){case Qo:return Vo;case Wo:return Mo;case $o:return Ro;case Ko:return Yo;case Jo:return Ho;}return t});var Zo=Go,Xo=Object.prototype,ei=Xo.hasOwnProperty,ti=function(e,t,n,r,o,i){var a=st(e),s=st(t),d=a?"[object Array]":Zo(e),l=s?"[object Array]":Zo(t);d="[object Arguments]"==d?"[object Object]":d,l="[object Arguments]"==l?"[object Object]":l;var u="[object Object]"==d,c="[object Object]"==l,p=d==l;if(p&&Hr(e)){if(!Hr(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new po),a||Gr(e)?go(e,t,n,r,o,i):jo(e,t,d,n,r,o,i);if(!(1&n)){var h=u&&ei.call(e,"__wrapped__"),f=c&&ei.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,y=f?t.value():t;return i||(i=new po),o(g,y,n,r,i)}}return!!p&&(i||(i=new po),be(e,t,n,r,o,i))},ni=_e,ri=function(e){return e===e&&!Ct(e)},oi=function(e){for(var t=uo(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ri(o)]}return t},ii=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},ai=function(e){var t=oi(e);return 1==t.length&&t[0][2]?ii(t[0][0],t[0][1]):function(n){return n===e||we(n,e,t)}},si=function(e,t,n){t=mn(t,e);for(var r,o=-1,i=t.length,a=!1;++o<i&&(r=bn(t[o]),!!(a=null!=e&&n(e,r)));)e=e[r];return a||++o!=i?a:(i=null==e?0:e.length,!!i&&Qr(i)&&Vr(r,i)&&(st(e)||Rr(e)))},di=function(e,t){return null!=e&&si(e,t,xe)},li=function(e,t){return St(e)&&ri(t)?ii(bn(e),t):function(n){var r=wn(n,e);return void 0===r&&r===t?di(n,e):ni(t,r,3)}},ui=function(e){return e},ci=function(e){return function(t){return null==t?void 0:t[e]}},pi=function(e){return function(t){return _n(t,e)}},hi=function(e){return St(e)?ci(bn(e)):pi(e)},fi=function(e){return"function"==typeof e?e:null==e?ui:"object"==typeof e?st(e)?li(e[0],e[1]):ai(e):hi(e)},gi=function(e,t){var n={};return t=fi(t),co(e,function(e,r,o){Ur(n,r,t(e,r,o))}),n};Promise.each=async function(e,t){for(const n of e)await t(n)};let yi;class mi extends Cr{constructor(e={}){const{apiURL:t,timeout:n}=e.config,{driver:i=f({apiURL:t,timeout:n}),config:o,reduxOptions:a={},storeCredentials:s=!0,credentialsStorage:d="localStorage",credentialsStorageName:l="pleasure-credentials",autoLoadCredentials:u=!0}=e;r()&&console.log(`initializing @pleasure-js/api-client`,{reduxOptions:a});const{baseURL:c}=i.defaults;super(c,a);const{accessToken:p,refreshToken:h}=Object.assign(this.savedCredentials(),e);this._autoLoadCredentials=u,this._options=e,this._name=e.name,this._driver=i,this._userProfile=null,this._daemonSessionExpired=null,this._cache=[],this.config=o,this._storeCredentials=s,this._credentialsStorage=d,this._credentialsStorageName=l,this.setCredentials({accessToken:p,refreshToken:h});const g=this;return _({next:this.fetch.bind(this),methodCallback({method:e,args:t=[]}){return g[e](...t)||!0}})}async fetch(e){return this.driver({url:e.url,method:e.method,params:{},data:Object.assign(0<Object.keys(e.get).length?{$params:e.get}:{},e.body||{})})}savedCredentials(){const e={};return this._storeCredentials&&!0&&Object.assign(e,JSON.parse(window[this._credentialsStorage].getItem(this._credentialsStorageName)||"{}")),e}static debug(e){return r(e)}setCredentials({accessToken:e=null,refreshToken:t=null}={}){this._storeCredentials&&!0&&window[this._credentialsStorage].setItem(this._credentialsStorageName,JSON.stringify({accessToken:e,refreshToken:t})),this._accessToken=e,this._refreshToken=t,this._refreshCredentials()}async proxyCacheReq({id:e,req:t}){let n;return await Promise.each(this._cache,async r=>{if(n=await r.req({id:e,req:t}),"undefined"!=typeof n)return!1}),n}async proxyCacheRes({id:e,req:t,res:n}){return await Promise.each(this._cache,async r=>{await r.res({id:e,req:t,res:n})}),n}async driver(e={}){const t=jn(e),n=await this.proxyCacheReq({id:t,req:e});if(e.params&&(e.params=je(e.params)),"undefined"!=typeof n)return n;r()&&console.log(`@pleasure-js/api-client calling>`,{req:e},`${this.accessToken?"with auth":" without auth"}`);const o=await this._driver(e);return this.proxyCacheRes({id:t,req:e,res:o}).catch(e=>{console.log(`Proxy cache res error:`,e)}),o}cache(e){this._cache.push(e)}_localLogout(){if(this._accessToken){const e=this.userProfile;this.setCredentials(),this.emit("logout",e)}}_sessionBeat(){var e=Math.max,t=Math.round;return clearTimeout(this._daemonSessionExpired),this.accessToken&&this.userProfile&&!(this.userProfile.sessionExpires<=Date.now())?void(this._daemonSessionExpired=setTimeout(this._sessionBeat.bind(this),e(t(.75*(this.userProfile.sessionExpires-Date.now()))),1e3)):this._localLogout()}_refreshCredentials(){return this.token=this._accessToken,this._userProfile=this._accessToken?En(this._accessToken):null,this._sessionBeat(),this._accessToken?void(this._driver.defaults.headers.common.Authorization=`Bearer ${this._accessToken}`,this.emit("login",this.userProfile)):void delete this._driver.defaults.headers.common.Authorization}get userProfile(){return this._userProfile}getSessionProfile(){return this._accessToken?En(this._accessToken):null}async login(e,t={}){this._localLogout();const{accessToken:n,refreshToken:r}=await this.driver({url:`${this.config.authEndpoint}`,method:"post",data:e,params:t});return this.setCredentials({accessToken:n,refreshToken:r}),{accessToken:n,refreshToken:r}}async me(){if(this._accessToken)return await this._driver({url:`${this.config.revokeEndpoint}`,method:"post"}),this._localLogout()}get accessToken(){return this._accessToken}async logout(){return await this._driver({url:`${this.config.revokeEndpoint}`,method:"post"}),this._localLogout()}create(e,t,n={}){if(!e||!t)throw new Error(`Provide both entity and entry`);return this.driver({url:`/${e}`,data:t,method:"post",params:n})}getEntities(){return this.driver({url:this.config.entitiesUri})}read(e,t,n,r={}){if(!e||!t)throw new Error(`Provide both entity and id`);const o=[e,t,n].filter(e=>!!e).join("/");return this.driver({url:`/${o}`,params:r})}update(e,t,n,r){if(!e||!t)throw new Error(`Provide both entity and id`);return this.driver({url:`/${e}/${t}`,method:"patch",data:n,params:r})}list(e,t={},n={}){if(!e)throw new Error(`Provide an entity`);return this.driver({url:`/${e}`,params:Object.assign({},n,t)})}delete(e,t,n={}){let r=`/${e}`;return"object"==typeof t&&(Object.assign(n,{id:Array.isArray(t)?xn(t):t}),t=null),t&&(r+=`/${t}`),this.driver({url:r,method:"delete",params:n})}push(e,t,n,r,o=!1,i={}){if(!e||!t||!n||!r)throw Error(`Provide all 'entity', 'id', 'fieldPath' and 'newEntry'.`);return this.driver({url:`${e}/${t}/${n}`,method:"post",data:{push:r,multiple:o},params:i})}controller(e,t,n=null,r){if(!e||!t)throw Error(`Provide both 'entity' and 'controller'.`);return this.driver({url:`${e}/${t}`,method:null===n?"get":"post",data:n,params:r})}pull(e,t,n,r,o={}){if(!e||!t||!n||!r)throw Error(`Provide all 'entity', 'id', 'fieldPath' and 'pull'.`);return this.driver({url:`${e}/${t}/${n}`,method:"delete",params:Object.assign({},o,{pull:r})})}static instance(e){if(r()&&console.log(`pleasure-client-instance`,{opts:e}),yi){if(e&&yi._options&&jn(e)!==jn(yi._options))throw new Error(`Singleton initialized.`);return yi}return yi=new mi(e),yi}}const bi=mi.instance.bind(mi);return e.ApiClient=mi,e.ApiError=Ie,e.getDriver=f,e.instance=bi,e}({},axios,io);
